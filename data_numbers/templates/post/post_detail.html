<!DOCTYPE html>
{% extends 'base.html' %}
{% block title %} {{ post.title }} {% endblock %}
{% block style %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/post_detail.css' %}">
    <script>
        function deletePost(post_id) {
            $.ajax({
                url: 'api/delete_post/',
                type: 'POST',
                data: {
                    post_id: post_id
                },
                success: function (data) {
                    top.location.href = data;
                }
            });
        }
    </script>

{% endblock %}
{% block content %}

    <html lang="en">
    <body background="/static/images/background.png">
        <!-- Center the page content-->
        <div class="container mt-5" style="color: #d8dce1; " >
            <div class="row">
                <div class="col-lg-8">
                    <!-- Post content-->
                        <!-- Post header-->
                        <header class="mb-4">
                            <!-- Phone number-->
                            <h1 class="fw-bolder mb-1" style="color: #b7b8ba"> +{{ post.telephone.prefix }} {{ post.telephone.phone }} </h1>
                            <!-- Post meta content-->
                            <div class="text-muted fst-italic mb-2" style="color: #a6afb7">Posted on {{ post.date }} by {{ post.user_id }} </div>
                            <!-- Post category-->
                            <a class="badge bg-secondary text-decoration-none link-light" href="#!"> {{ post.category.type }} </a>
                        </header>
                        <div class="card" >
                            <img src="https://i.imgur.com/Oco4P6B.png" class="card-img-top" alt="Image describing post category" width="30%" height="30%"/>
                            <div class="card-body" style="background-color: #212529">
                                <h5 class="fw-bold"> {{ post.title }} </h5>
                                <p class="fs-5 mb-4"> {{ post.message }} </p>
                                {% csrf_token %}
                                <h5><i class="fa-solid fa-heart"> Like</i></h5>
                                {% if user.id == post.user_id.id %}
                                    <button class="btn btn-warning" onclick="location.href = '/post/edit/{{post.post_id}}'"
                                    >MODIFY
                                        POST {% csrf_token %}</button>
                                    <button class="btn btn-danger" onclick="deletePost( {{ post.post_id }} )">DELETE
                                        POST </i> {% csrf_token %}</button>
                                {% endif %}
                            </div>
                        </div>
                    <!-- Comments section-->
                    <section class="mb-5" style="color: #d8dce1">
                        <div class="card bg-dark" >
                            <div class="card-body">
                                <!-- Comment form-->
                                <form class="mb-4"><textarea class="form-control" rows="3" placeholder="Join the discussion and leave a comment!"></textarea></form>
                                <!-- Comment with nested comments-->
                                <div class="d-flex mb-4">
                                    <!-- Parent comment-->
                                    <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                    <div class="ms-3">
                                        <div class="fw-bold">Commenter Name</div>
                                        If you're going to lead a space frontier, it has to be government; it'll never be private enterprise. Because the space frontier is dangerous, and it's expensive, and it has unquantified risks.
                                        <!-- Child comment 1-->
                                        <div class="d-flex mt-4">
                                            <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                            <div class="ms-3">
                                                <div class="fw-bold">Commenter Name</div>
                                                And under those conditions, you cannot establish a capital-market evaluation of that enterprise. You can't get investors.
                                            </div>
                                        </div>
                                        <!-- Child comment 2-->
                                        <div class="d-flex mt-4">
                                            <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                            <div class="ms-3">
                                                <div class="fw-bold">Commenter Name</div>
                                                When you put money directly to a problem, it makes a good headline.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Single comment-->
                                <div class="d-flex">
                                    <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                    <div class="ms-3">
                                        <div class="fw-bold">Commenter Name</div>
                                        When I look at the universe and all the ways the universe wants to kill us, I find it hard to reconcile that with statements of beneficence.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>
{% endblock %}
